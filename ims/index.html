<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Eignungstest – Vorbereitung</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h1 { color: #333; }
    .topic { margin-top: 40px; }
    .question { margin-bottom: 20px; }
    .options label { display: block; margin-bottom: 5px; }
    .submit-btn { margin-top: 20px; padding: 10px 20px; font-size: 1em; }
  </style>
</head>
<body>
  <h1>Vorbereitung auf den Eignungstest</h1>
  
  <form id="quizForm">
    <div id="quizContent"></div>
    <button type="submit" class="submit-btn">Test abschicken</button>
  </form>

  <p><a href="results.html">Ergebnisse ansehen</a></p>

  <script>
    const quizData = [
  {
    "topic": "Systemtechnik",
    "questions": [
      {
        "question": "Frage 1: Was versteht man unter der Hardware eines Computersystems?",
        "options": {
          "a": "Die installierten Programme",
          "b": "Alle gespeicherten Daten und Dateien",
          "c": "Das Betriebssystem des Computers",
          "d": "Die physischen Komponenten des Computers"
        },
        "answer": "d"
      },
      {
        "question": "Frage 2: Welches der folgenden Geräte ist ein Eingabegerät?",
        "options": {
          "a": "Monitor",
          "b": "Drucker",
          "c": "Lautsprecher",
          "d": "Tastatur"
        },
        "answer": "d"
      },
      {
        "question": "Frage 3: Welches dieser Software-Pakete ist kein Betriebssystem?",
        "options": {
          "a": "Linux Ubuntu",
          "b": "Windows 10",
          "c": "Microsoft Office",
          "d": "Android"
        },
        "answer": "c"
      },
      {
        "question": "Frage 4: Welche Einheit folgt in der Größenordnung direkt nach einem Megabyte?",
        "options": {
          "a": "Kilobyte",
          "b": "Gigabyte",
          "c": "Terabyte",
          "d": "Megabit"
        },
        "answer": "b"
      },
      {
        "question": "Frage 5: Was ist die Hauptaufgabe eines Betriebssystems?",
        "options": {
          "a": "Verbesserung der Grafikleistung",
          "b": "Herstellung der Internetverbindung",
          "c": "Verwaltung von Hardware und Software",
          "d": "Entfernung von Viren und Malware"
        },
        "answer": "c"
      },
      {
        "question": "Frage 6: Wofür steht die Abkürzung 'GPU'?",
        "options": {
          "a": "General Processing Unit",
          "b": "Global Processing Unit",
          "c": "Graphics Processing Unit",
          "d": "Gigabit Performance Unit"
        },
        "answer": "c"
      },
      {
        "question": "Frage 7: Welche Komponente verliert ihre gespeicherten Daten, sobald der Computer ausgeschaltet wird?",
        "options": {
          "a": "Festplatte (HDD)",
          "b": "USB-Stick",
          "c": "Solid State Drive (SSD)",
          "d": "Arbeitsspeicher (RAM)"
        },
        "answer": "d"
      },
      {
        "question": "Frage 8: Wofür steht die Abkürzung 'LAN'?",
        "options": {
          "a": "Lightwave Array Node",
          "b": "Large Access Network",
          "c": "Logical Address Number",
          "d": "Local Area Network"
        },
        "answer": "d"
      },
      {
        "question": "Frage 9: In welcher Einheit wird typischerweise die Taktfrequenz eines Prozessors angegeben?",
        "options": {
          "a": "Celsius (°C)",
          "b": "Gigabyte (GB)",
          "c": "Bit pro Sekunde",
          "d": "Gigahertz (GHz)"
        },
        "answer": "d"
      },
      {
        "question": "Frage 10: Wozu dient ein Router in einem Heimnetzwerk?",
        "options": {
          "a": "Er verschlüsselt alle Daten auf der Festplatte",
          "b": "Er erhöht die Geschwindigkeit der Grafikkarte",
          "c": "Er leitet Datenpakete zwischen Netzwerken weiter",
          "d": "Er steuert die Stromversorgung des Computers"
        },
        "answer": "c"
      }
    ]
  },
  {
    "topic": "Datenbanken",
    "questions": [
      {
        "question": "Frage 1: Was ist eine Datenbank?",
        "options": {
          "a": "Ein Dateiformat für Bilder",
          "b": "Ein Programm zum Versenden von E-Mails",
          "c": "Ein Betriebssystem für Computer",
          "d": "Eine strukturierte Sammlung von Daten"
        },
        "answer": "d"
      },
      {
        "question": "Frage 2: Welches der folgenden Programme ist ein Datenbankmanagementsystem (DBMS)?",
        "options": {
          "a": "Photoshop",
          "b": "Firefox",
          "c": "MySQL",
          "d": "Excel"
        },
        "answer": "c"
      },
      {
        "question": "Frage 3: Wofür wird die Sprache SQL hauptsächlich verwendet?",
        "options": {
          "a": "Zum Erstellen von Grafiken und Designs",
          "b": "Zur Verschlüsselung von Internetdaten",
          "c": "Zum Abfragen und Bearbeiten von Daten",
          "d": "Zur Programmierung von Betriebssystemen"
        },
        "answer": "c"
      },
      {
        "question": "Frage 4: Was beschreibt in einer relationalen Datenbank am besten eine 'Tabelle'?",
        "options": {
          "a": "Eine grafische Darstellung der Datenbankstruktur",
          "b": "Eine Verbindung zwischen zwei Datenbanken",
          "c": "Eine Sammlung von Datensätzen in Zeilen und Spalten",
          "d": "Ein einzelner Datenwert innerhalb der Datenbank"
        },
        "answer": "c"
      },
      {
        "question": "Frage 5: Wozu dient ein Primärschlüssel in einer Datenbanktabelle?",
        "options": {
          "a": "Zur Verschlüsselung sensibler Daten in der Tabelle",
          "b": "Zur Angabe eines Standardwerts für ein Feld",
          "c": "Zur eindeutigen Identifizierung eines Datensatzes",
          "d": "Zur Kontrolle der Zugriffsrechte auf die Tabelle"
        },
        "answer": "c"
      },
      {
        "question": "Frage 6: Mit welchem SQL-Befehl kann ein neuer Datensatz in eine Tabelle eingefügt werden?",
        "options": {
          "a": "UPDATE",
          "b": "DELETE",
          "c": "INSERT",
          "d": "SELECT"
        },
        "answer": "c"
      },
      {
        "question": "Frage 7: Welches SQL-Schlüsselwort wird verwendet, um Ergebnisse nach einer bestimmten Bedingung zu filtern?",
        "options": {
          "a": "ORDER BY",
          "b": "WHERE",
          "c": "FROM",
          "d": "SELECT"
        },
        "answer": "b"
      },
      {
        "question": "Frage 8: Was versteht man unter einem Fremdschlüssel in einer relationalen Datenbank?",
        "options": {
          "a": "Ein alternativer Begriff für den Primärschlüssel einer Tabelle",
          "b": "Ein Feld, das auf den Primärschlüssel einer anderen Tabelle verweist",
          "c": "Ein besonderes Feld, das automatisch berechnete Werte speichert",
          "d": "Ein Schlüssel, der zur Verschlüsselung der Datenbank verwendet wird"
        },
        "answer": "b"
      },
      {
        "question": "Frage 9: Wie kann die Abfragegeschwindigkeit in einer großen Tabelle typischerweise erhöht werden?",
        "options": {
          "a": "Durch das regelmäßige Neustarten des Datenbankservers",
          "b": "Durch die Speicherung der Datenbank auf einer Festplatte",
          "c": "Durch das Erstellen eines Index auf häufig verwendeten Spalten",
          "d": "Durch das Speichern aller Daten in einer einzigen Tabelle"
        },
        "answer": "c"
      },
      {
        "question": "Frage 10: Was versteht man unter einer NoSQL-Datenbank?",
        "options": {
          "a": "Eine relationale Datenbank mit ausschließlich Textdaten",
          "b": "Eine vollständig ungesicherte Datenbank ohne Passwortschutz",
          "c": "Eine Datenbank, die nicht auf dem relationalen Modell basiert",
          "d": "Eine Datenbank, die SQL-Befehle blockiert und nicht akzeptiert"
        },
        "answer": "c"
      }
    ]
  }
];










    
    function renderQuiz() {
      const quizContainer = document.getElementById("quizContent");
      quizContainer.innerHTML = '';
      quizData.forEach((section, sIdx) => {
        const topicDiv = document.createElement("div");
        topicDiv.classList.add("topic");
        topicDiv.innerHTML = `<h2>${section.topic}</h2>`;
    
        section.questions.forEach((q, qIdx) => {
          const questionNumber = section.questions.length * sIdx + qIdx + 1;
          const questionDiv = document.createElement("div");
          questionDiv.classList.add("question");
          questionDiv.innerHTML = `<p> ${q.question}</p>`;
    
          const optionsDiv = document.createElement("div");
          optionsDiv.classList.add("options");
          Object.entries(q.options).forEach(([key, value]) => {
            optionsDiv.innerHTML += `<label><input type="radio" name="q${questionNumber}" value="${key}"> (${key}) ${value}</label>`;
          });
          questionDiv.appendChild(optionsDiv);
          topicDiv.appendChild(questionDiv);
        });
        quizContainer.appendChild(topicDiv);
      });
    }
    
    document.getElementById("quizForm").addEventListener("submit", function(e) {
      e.preventDefault();
      let score = 0;
      const answers = [];

      quizData.forEach((section, sIdx) => {
        section.questions.forEach((q, qIdx) => {
          const questionNumber = section.questions.length * sIdx + qIdx + 1;
          const selected = document.querySelector(`input[name=q${questionNumber}]:checked`);
          const answerValue = selected ? selected.value : null;
          if (answerValue === q.answer) score++;
          answers.push(answerValue);
        });
      });

      alert(`Du hast ${score} von ${answers.length} Punkten erreicht.`);
      
      // Ergebnis speichern
      saveResultSnapshot(score, answers);

      sendResultByMail
      this.reset();
    });

    function saveResultSnapshot(score, answers) {
      const results = JSON.parse(localStorage.getItem("resultsFiles") || "[]");
      results.push({
        score,
        answers,
        date: new Date().toLocaleString()
      });
      localStorage.setItem("resultsFiles", JSON.stringify(results));
    }

    function sendResultByMail(score, snapshot) {
      // Wir erstellen den mailto-Link
      const subject = encodeURIComponent("Testergebnis");
      // Hier kannst du nur reinen Text verschicken (keine HTML-Anhänge)
      const body = encodeURIComponent("Dein Score: " + score + " von 40\n\n" + 
                                      "Snapshot:\n" + snapshot);

      // mailto-Link (Empfänger kann man festlegen, z.B. "?to=info@example.com")
      window.location.href = "mailto:?subject=" + subject + "&body=" + body;
    }


    
    renderQuiz();
    </script>
    
</body>
</html>
