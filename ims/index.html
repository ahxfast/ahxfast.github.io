<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Eignungstest – Vorbereitung</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h1 { color: #333; }
    .topic { margin-top: 40px; }
    .question { margin-bottom: 20px; }
    .options label { display: block; margin-bottom: 5px; }
    .submit-btn { margin-top: 20px; padding: 10px 20px; font-size: 1em; }
  </style>
</head>
<body>
  <h1>Vorbereitung auf den Eignungstest</h1>
  
  <form id="quizForm">
    <div id="quizContent"></div>
    <button type="submit" class="submit-btn">Test abschicken</button>
  </form>

  <p><a href="results.html">Ergebnisse ansehen</a></p>

  <script>
    const quizData = [
  {
    "topic": "Systemtechnik und Hardware",
    "questions": [
      {
        "question": "Frage 1: Welche Komponente verbindet alle anderen Bauteile eines PCs miteinander?",
        "options": {"a": "RAM", "b": "CPU", "c": "Mainboard", "d": "GPU"},
        "answer": "c"
      },
      {
        "question": "Frage 2: Welche Komponente speichert dauerhaft große Datenmengen?",
        "options": {"a": "CPU", "b": "RAM", "c": "SSD", "d": "Netzteil"},
        "answer": "c"
      },
      {
        "question": "Frage 3: Welche Schnittstelle wird zur Stromversorgung aktueller Mainboards verwendet?",
        "options": {"a": "VGA", "b": "SATA", "c": "PCIe", "d": "ATX-Stromanschluss"},
        "answer": "d"
      },
      {
        "question": "Frage 3: Welches Bauteil sorgt hauptsächlich für die Kühlung des Prozessors?",
        "options": {"a": "Gehäuse", "b": "Netzteil", "c": "CPU-Kühler", "d": "SSD"},
        "answer": "c"
      },
      {
        "question": "Frage 4: Was misst man mit der Einheit Gigahertz (GHz)?",
        "options": {"a": "Datenmenge", "b": "Taktfrequenz", "c": "Stromverbrauch", "d": "Temperatur"},
        "answer": "b"
      },
      {
        "question": "Frage 5: Welche Hardware sorgt für drahtlose Netzwerkverbindungen?",
        "options": {"a": "Router", "b": "Monitor", "c": "Maus", "d": "Grafikkarte"},
        "answer": "a"
      }
    ]
  },
  {
    "topic": "Datenbanken",
    "questions": [
      {
        "question": "Frage 1: Welche Art von Datenbank speichert Daten in Dokumenten statt Tabellen?",
        "options": {"a": "SQL-Datenbank", "b": "NoSQL-Datenbank", "c": "Relationale DB", "d": "Flat-File"},
        "answer": "d"
      },
      {
        "question": "Frage 2: Was macht der SQL-Befehl UPDATE?",
        "options": {"a": "Löscht Datensätze", "b": "Fügt Datensätze hinzu", "c": "Ändert Datensätze", "d": "Fragt Datensätze ab"},
        "answer": "c"
      }
    ]
  },
  {
    "topic": "HTML-Grundwissen",
    "questions": [
      {
        "question": "Frage 1: Welches Tag definiert die wichtigste Überschrift?",
        "options": {"a": "<h6>", "b": "<title>", "c": "<h1>", "d": "<p>"},
        "answer": "c"
      },
      {
        "question": "Frage 2: Mit welchem HTML-Element erstellt man ein Textfeld in einem Formular?",
        "options": {"a": "<form>", "b": "<input>", "c": "<button>", "d": "<label>"},
        "answer": "a"
      }
    ]
  },
  {
    "topic": "Programmierung",
    "questions": [
      {
        "question": "Frage 1: Was bedeutet die Abkürzung IDE in der Programmierung?",
        "options": {"a": "Integrated Development Environment", "b": "Internet Data Language", "c": "Input Device", "d": "Intermediate Language"},
        "answer": "a"
      }
    ]
  },
  {
    "topic": "Office",
    "questions": [
      {
        "question": "Frage 1: Wie erstellt man in Excel eine Summe aus Zellen?",
        "options": {"a": "SUMME(A1:A5)", "b": "ADD(A1:A5)", "c": "TOTAL(A1:A5)", "d": "=AUTO(A1:A5)"},
        "answer": "a"
      }
    ]
  }
];














    
    function renderQuiz() {
      const quizContainer = document.getElementById("quizContent");
      quizContainer.innerHTML = '';
      quizData.forEach((section, sIdx) => {
        const topicDiv = document.createElement("div");
        topicDiv.classList.add("topic");
        topicDiv.innerHTML = `<h2>${section.topic}</h2>`;
    
        section.questions.forEach((q, qIdx) => {
          const questionNumber = section.questions.length * sIdx + qIdx + 1;
          const questionDiv = document.createElement("div");
          questionDiv.classList.add("question");
          questionDiv.innerHTML = `<p> ${q.question}</p>`;
    
          const optionsDiv = document.createElement("div");
          optionsDiv.classList.add("options");
          Object.entries(q.options).forEach(([key, value]) => {
            optionsDiv.innerHTML += `<label><input type="radio" name="q${questionNumber}" value="${key}"> (${key}) ${value}</label>`;
          });
          questionDiv.appendChild(optionsDiv);
          topicDiv.appendChild(questionDiv);
        });
        quizContainer.appendChild(topicDiv);
      });
    }
    
    document.getElementById("quizForm").addEventListener("submit", function(e) {
      e.preventDefault();
      let score = 0;
      const answers = [];

      quizData.forEach((section, sIdx) => {
        section.questions.forEach((q, qIdx) => {
          const questionNumber = section.questions.length * sIdx + qIdx + 1;
          const selected = document.querySelector(`input[name=q${questionNumber}]:checked`);
          const answerValue = selected ? selected.value : null;
          if (answerValue === q.answer) score++;
          answers.push(answerValue);
        });
      });

      alert(`Du hast ${score} von ${answers.length} Punkten erreicht.`);
      
      // Ergebnis speichern
      saveResultSnapshot(score, answers);

      //sendResultByMail();
      this.reset();
    });

    function saveResultSnapshot(score, answers) {
      const results = JSON.parse(localStorage.getItem("resultsFiles") || "[]");
      results.push({
        score,
        answers,
        date: new Date().toLocaleString()
      });
      localStorage.setItem("resultsFiles", JSON.stringify(results));
    }

    // function sendResultByMail(score, snapshot) {
    //   // Wir erstellen den mailto-Link
    //   const subject = encodeURIComponent("Testergebnis");
    //   // Hier kannst du nur reinen Text verschicken (keine HTML-Anhänge)
    //   const body = encodeURIComponent("Dein Score: " + score + " von 50\n\n" + 
    //                                   "Snapshot:\n" + snapshot);

    //   // mailto-Link (Empfänger kann man festlegen, z.B. "?to=info@example.com")
    //   window.location.href = "mailto:?subject=" + subject + "&body=" + body;
    // }


    
    renderQuiz();
    </script>
    
</body>
</html>
