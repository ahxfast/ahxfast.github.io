<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Gespeicherte Testergebnisse</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    table { border-collapse: collapse; width: 100%; }
    th, td { padding: 10px; border: 1px solid #ddd; }
    th { background: #f4f4f4; }
    button { cursor: pointer; }
  </style>
</head>
<body>
  <h1>Gespeicherte Testergebnisse</h1>
  <table>
    <thead>
      <tr>
        <th>Datum</th>
        <th>Punktzahl</th>
        <th>Details</th>
      </tr>
    </thead>
    <tbody id="resultsTable"></tbody>
  </table>

  <div id="resultDetails"></div>

  <script>
   const quizData = [
  {
    "topic": "Systemtechnik und Hardware",
    "questions": [
      {"question": "Welche Komponente verbindet alle anderen Bauteile eines PCs miteinander?", "options": {"a": "RAM", "b": "CPU", "c": "Mainboard", "d": "GPU"}, "answer": "c"},
      {"question": "Welche Komponente speichert dauerhaft große Datenmengen?", "options": {"a": "CPU", "b": "RAM", "c": "SSD", "d": "Netzteil"}, "answer": "c"},
      {"question": "Welche Schnittstelle wird zur Stromversorgung aktueller Mainboards verwendet?", "options": {"a": "VGA", "b": "SATA", "c": "PCIe", "d": "ATX-Stromanschluss"}, "answer": "d"},
      {"question": "Welches Bauteil sorgt hauptsächlich für die Kühlung des Prozessors?", "options": {"a": "Gehäuse", "b": "Netzteil", "c": "CPU-Kühler", "d": "SSD"}, "answer": "c"},
      {"question": "Was misst man mit der Einheit Gigahertz (GHz)?", "options": {"a": "Datenmenge", "b": "Taktfrequenz", "c": "Stromverbrauch", "d": "Temperatur"}, "answer": "b"},
      {"question": "Welche Hardware sorgt für drahtlose Netzwerkverbindungen?", "options": {"a": "Router", "b": "Monitor", "c": "Maus", "d": "Grafikkarte"}, "answer": "a"},
      {"question": "Was ist die Funktion eines Netzteils im PC?", "options": {"a": "Datenspeicherung", "b": "Stromversorgung", "c": "Grafikverarbeitung", "d": "Eingabegerät"}, "answer": "b"},
      {"question": "Welche Komponente verbessert hauptsächlich die Grafikleistung?", "options": {"a": "CPU", "b": "SSD", "c": "GPU", "d": "RAM"}, "answer": "c"},
      {"question": "Welcher Speicher verliert seine Daten nach dem Ausschalten?", "options": {"a": "RAM", "b": "SSD", "c": "HDD", "d": "USB-Stick"}, "answer": "a"},
      {"question": "Welche Technologie ermöglicht schnelle Datenübertragung über kurze Distanzen?", "options": {"a": "Bluetooth", "b": "VGA", "c": "Ethernet", "d": "HDMI"}, "answer": "a"}
    ]
  },
  {
    "topic": "Datenbanken",
    "questions": [
      {"question": "Was speichert eine relationale Datenbank hauptsächlich?", "options": {"a": "Bilder", "b": "Dokumente", "c": "Daten in Tabellen", "d": "Videos"}, "answer": "c"},
      {"question": "Welcher Befehl löscht Datensätze in SQL?", "options": {"a": "UPDATE", "b": "DELETE", "c": "INSERT", "d": "SELECT"}, "answer": "b"},
      {"question": "Welcher Schlüssel verweist auf den Primärschlüssel einer anderen Tabelle?", "options": {"a": "Primärschlüssel", "b": "Fremdschlüssel", "c": "Unique Key", "d": "Index"}, "answer": "b"},
      {"question": "Was bedeutet SQL?", "options": {"a": "Structured Query Language", "b": "Sequential Query Language", "c": "Standard Query Language", "d": "Simple Query Language"}, "answer": "a"},
      {"question": "Welche Datenbankoperation fügt neue Datensätze hinzu?", "options": {"a": "SELECT", "b": "UPDATE", "c": "INSERT", "d": "DELETE"}, "answer": "c"},
      {"question": "Was ermöglicht die SQL-Klausel WHERE?", "options": {"a": "Daten hinzufügen", "b": "Bedingungen festlegen", "c": "Tabellen erstellen", "d": "Daten löschen"}, "answer": "b"},
      {"question": "Was ist eine Transaktion in Datenbanken?", "options": {"a": "Ein Protokoll", "b": "Eine Anweisung", "c": "Eine Serie von Operationen", "d": "Ein Tabellenfeld"}, "answer": "c"},
      {"question": "Wozu dient die Normalisierung?", "options": {"a": "Sicherung", "b": "Strukturverbesserung", "c": "Verschlüsselung", "d": "Vergrößerung"}, "answer": "b"},
      {"question": "Was bedeutet NoSQL?", "options": {"a": "Not only SQL", "b": "No Structured Query Language", "c": "Non Query Language", "d": "New SQL"}, "answer": "a"},
      {"question": "Wofür verwendet man einen Index?", "options": {"a": "Daten löschen", "b": "Daten sichern", "c": "Schnellere Abfragen", "d": "Daten einfügen"}, "answer": "c"}
    ]
  }
  ,
  {
    "topic": "HTML-Grundwissen",
    "questions": [
      {"question": "Welches Tag erzeugt einen Zeilenumbruch?", "options": {"a": "<break>", "b": "<br>", "c": "<p>", "d": "<newline>"}, "answer": "b"},
      {"question": "Wie erstellt man eine ungeordnete Liste?", "options": {"a": "<ol>", "b": "<ul>", "c": "<li>", "d": "<list>"}, "answer": "b"},
      {"question": "Welches Attribut definiert einen Linkzielort?", "options": {"a": "src", "b": "link", "c": "href", "d": "target"}, "answer": "c"},
      {"question": "Welches Tag definiert den Hauptinhalt einer Webseite?", "options": {"a": "<head>", "b": "<main>", "c": "<footer>", "d": "<section>"}, "answer": "b"},
      {"question": "Was bewirkt das Attribut 'alt' im <img>-Tag?", "options": {"a": "Titel des Bildes", "b": "Alternativer Text", "c": "Größe des Bildes", "d": "Positionierung"}, "answer": "b"},
      {"question": "Welches Element enthält Metadaten und Titel einer HTML-Seite?", "options": {"a": "<body>", "b": "<head>", "c": "<title>", "d": "<footer>"}, "answer": "b"},
      {"question": "Wie bindet man externe CSS-Dateien ein?", "options": {"a": "<css>", "b": "<script>", "c": "<link>", "d": "<style>"}, "answer": "d"},
      {"question": "Wie erstellt man ein Eingabefeld für Passwörter?", "options": {"a": "<input type='text'>", "b": "<input type='password'>", "c": "<input type='secret'>", "d": "<input type='hidden'>"}, "answer": "b"},
      {"question": "Welches Tag wird für einen Hyperlink verwendet?", "options": {"a": "<link>", "b": "<href>", "c": "<a>", "d": "<hyperlink>"}, "answer": "d"},
      {"question": "Welches Element wird für eine Tabellenzelle verwendet?", "options": {"a": "<table>", "b": "<tr>", "c": "<td>", "d": "<th>"}, "answer": "c"}
    ]
  },
  {
    "topic": "Programmierung",
    "questions": [
      {"question": "Welcher Begriff beschreibt die Wiederholung eines Codes?", "options": {"a": "Variable", "b": "Funktion", "c": "Schleife", "d": "Klasse"}, "answer": "c"},
      {"question": "Was bedeutet der Begriff 'Debugging'?", "options": {"a": "Programme schreiben", "b": "Fehler finden und beheben", "c": "Software installieren", "d": "Code kompilieren"}, "answer": "b"},
      {"question": "Welche Sprache ist eine interpretierte Sprache?", "options": {"a": "C", "b": "Python", "c": "C++", "d": "Java"}, "answer": "d"},
      {"question": "Was ist ein Array?", "options": {"a": "Ein Datenbanktyp", "b": "Eine Sammlung von Elementen", "c": "Eine Funktion", "d": "Eine Bedingung"}, "answer": "b"},
      {"question": "Welche Aussage trifft auf 'if'-Anweisungen zu?", "options": {"a": "Daten speichern", "b": "Entscheidungen treffen", "c": "Schleifen erzeugen", "d": "Daten löschen"}, "answer": "b"},
      {"question": "Was ist eine Methode in objektorientierter Programmierung?", "options": {"a": "Eine Schleife", "b": "Eine Variable", "c": "Eine Funktion innerhalb einer Klasse", "d": "Ein Kommentar"}, "answer": "c"},
      {"question": "Welcher Operator überprüft Ungleichheit?", "options": {"a": "==", "b": "!=", "c": ">=", "d": "="}, "answer": "b"},
      {"question": "Was ist eine Bibliothek in der Programmierung?", "options": {"a": "Sammlung von Code-Funktionen", "b": "Ein einzelnes Programm", "c": "Ein Datentyp", "d": "Eine Hardware-Komponente"}, "answer": "a"},
      {"question": "Was ist eine Rekursion?", "options": {"a": "Eine Art Variable", "b": "Eine sich selbst aufrufende Funktion", "c": "Ein Debugger-Tool", "d": "Ein Datenbanksystem"}, "answer": "b"},
      {"question": "Welche Sprache wird häufig für Webanwendungen verwendet?", "options": {"a": "Python", "b": "C++", "c": "JavaScript", "d": "Java"}, "answer": "c"}
    ]
  }
  ,
  {
    "topic": "Office",
    "questions": [
      {"question": "Mit welcher Tastenkombination speichert man ein Dokument in Word?", "options": {"a": "Strg+C", "b": "Strg+S", "c": "Strg+V", "d": "Strg+X"}, "answer": "b"},
      {"question": "Welches Programm wird hauptsächlich für Tabellenkalkulationen verwendet?", "options": {"a": "Excel", "b": "Word", "c": "PowerPoint", "d": "Outlook"}, "answer": "a"},
      {"question": "Welche Dateiendung hat eine PowerPoint-Präsentation?", "options": {"a": ".docx", "b": ".xlsx", "c": ".pptx", "d": ".txt"}, "answer": "c"},
      {"question": "Wie fügt man in Excel eine neue Zeile ein?", "options": {"a": "Strg+N", "b": "Strg+X", "c": "Rechtsklick -> Zeile einfügen", "d": "Strg+P"}, "answer": "a"},
      {"question": "Wozu dient die Funktion SUMME() in Excel?", "options": {"a": "Daten sortieren", "b": "Daten summieren", "c": "Durchschnitt berechnen", "d": "Text einfügen"}, "answer": "b"},
      {"question": "Wie kann man in Word ein Dokument drucken?", "options": {"a": "Strg+P", "b": "Strg+D", "c": "Strg+N", "d": "Strg+R"}, "answer": "a"},
      {"question": "Welches Programm ist geeignet, um Termine und E-Mails zu verwalten?", "options": {"a": "Word", "b": "Excel", "c": "PowerPoint", "d": "Outlook"}, "answer": "d"},
      {"question": "Welche Excel-Funktion ermöglicht es, den höchsten Wert aus einem Bereich zu finden?", "options": {"a": "MAX()", "b": "MIN()", "c": "SUMME()", "d": "AVERAGE()"}, "answer": "a"},
      {"question": "Was bedeutet die Abkürzung PDF?", "options": {"a": "Portable Document Format", "b": "Personal Data File", "c": "Printable Data Format", "d": "Private Document File"}, "answer": "a"},
      {"question": "Welches Feature ermöglicht automatische Rechtschreibprüfung in Word?", "options": {"a": "Grammatikprüfung", "b": "Thesaurus", "c": "Autokorrektur", "d": "Kommentarfunktion"}, "answer": "c"}
    ]
  }
];








    
    function userReadableOption(options, key) {
      return key ? `(${key}) ${options[key]}` : 'Keine Antwort gewählt';
    }
    
    function loadResults() {
      const results = JSON.parse(localStorage.getItem("resultsFiles") || "[]");
      const resultsBody = document.getElementById("resultsTable");
      resultsBody.innerHTML = "";
    
      results.forEach((result, idx) => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${result.date}</td>
          <td>${result.score}/${result.answers.length}</td>
          <td><button onclick="showDetails(${idx})">Details</button></td>`;
        resultsBody.appendChild(row);
      });
    }
    
    function showDetails(idx) {
      const result = JSON.parse(localStorage.getItem("resultsFiles"))[idx];
      let html = `<h2>Antwortdetails (${result.date})</h2>`;
      let answerIndex = 0; // Hier korrekte Deklaration!
    
      quizData.forEach(section => {
        html += `<h3>${section.topic}</h3>`;
        section.questions.forEach(q => {
          const userAns = result.answers[answerIndex++]; // Korrekt answerIndex verwenden
          html += `
            <p><b>${section.topic + ' - ' + q.question}</b><br>
            <table>
              <tr>
                <td style="width:200px;"><strong>Deine Antwort:</strong></td>
                <td style="${ userAns !== q.answer ? 'color:red;' : 'color:green;' }">
                  ${userReadableOption(q.options, userAns)}
                </td>
              </tr>
              <tr>
                <td><strong>Richtige Antwort:</strong></td>
                <td>${userReadableOption(q.options, q.answer)}</td>
              </tr>
            </table>
            <br>
            <hr>
          `;
        });
      });
    
      document.getElementById('resultDetails').innerHTML = html;
    }
    
    loadResults();
    </script>
    
</body>
</html>
