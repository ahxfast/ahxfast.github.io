<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Gespeicherte Testergebnisse</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    table { border-collapse: collapse; width: 100%; }
    th, td { padding: 10px; border: 1px solid #ddd; }
    th { background: #f4f4f4; }
    button { cursor: pointer; }
  </style>
</head>
<body>
  <h1>Gespeicherte Testergebnisse</h1>
  <table>
    <thead>
      <tr>
        <th>Datum</th>
        <th>Punktzahl</th>
        <th>Details</th>
      </tr>
    </thead>
    <tbody id="resultsTable"></tbody>
  </table>

  <div id="resultDetails"></div>

  <script>
   const quizData = [
  {
    "topic": "Systemtechnik & Cloud Computing",
    "questions": [
      {
        "question": "Frage 1: Welche Komponente eines Computers ist hauptsächlich für die Durchführung von Berechnungen verantwortlich?",
        "options": {
          "a": "CPU (Prozessor)",
          "b": "RAM (Arbeitsspeicher)",
          "c": "Festplatte (Speicherlaufwerk)",
          "d": "Netzteil (Stromversorgung)"
        },
        "answer": "a"
      },
      {
        "question": "Frage 2: Welches der folgenden ist kein Betriebssystem?",
        "options": {
          "a": "Windows 10",
          "b": "Linux Ubuntu",
          "c": "Android",
          "d": "Microsoft Office"
        },
        "answer": "d"
      },
      {
        "question": "Frage 3: Welches Protokoll wird zum Versand von E-Mails über das Internet verwendet?",
        "options": {
          "a": "SMTP",
          "b": "HTTP",
          "c": "FTP",
          "d": "IMAP"
        },
        "answer": "a"
      },
      {
        "question": "Frage 4: Welche Komponente schützt ein Netzwerk typischerweise vor unautorisiertem Zugriff von außen?",
        "options": {
          "a": "Firewall",
          "b": "Switch",
          "c": "Router",
          "d": "Modem"
        },
        "answer": "a"
      },
      {
        "question": "Frage 5: Welche Aussage beschreibt Cloud Computing am besten?",
        "options": {
          "a": "Bereitstellung von IT-Ressourcen nach Bedarf über das Internet",
          "b": "Speicherung aller Daten auf lokalen Geräten im Netzwerk",
          "c": "Ein Netzwerkprotokoll zur sicheren Datenübertragung",
          "d": "Virtualisierung aller Hardware-Komponenten im Rechenzentrum"
        },
        "answer": "a"
      },
      {
        "question": "Frage 6: Was ermöglicht die Virtualisierung in der IT?",
        "options": {
          "a": "Mehrere Betriebssysteme gleichzeitig auf einer Hardware auszuführen",
          "b": "Die Internetverbindung durch Verschlüsselung abzusichern",
          "c": "JavaScript-Code im Browser schneller auszuführen",
          "d": "Dateien verlustfrei zu komprimieren"
        },
        "answer": "a"
      },
      {
        "question": "Frage 7: Welches der folgenden ist ein Beispiel für Software as a Service (SaaS)?",
        "options": {
          "a": "Ein webbasiertes E-Mail-Portal wie Gmail",
          "b": "Eine Plattform zur App-Entwicklung wie Google App Engine",
          "c": "Ein Cloud-Dienst zur Verwaltung virtueller Maschinen (z. B. AWS EC2)",
          "d": "Ein lokal installiertes Office-Paket"
        },
        "answer": "a"
      },
      {
        "question": "Frage 8: Wofür steht die Abkürzung IaaS im Cloud-Computing?",
        "options": {
          "a": "Infrastructure as a Service",
          "b": "Internet as a Service",
          "c": "Integration as a Service",
          "d": "Interface as a Service"
        },
        "answer": "a"
      },
      {
        "question": "Frage 9: Was ist das Hauptziel einer regelmäßigen Datensicherung (Backup)?",
        "options": {
          "a": "Die Wiederherstellung von Daten nach einem Verlust oder Ausfall",
          "b": "Die Beschleunigung des Netzwerks",
          "c": "Den Schutz vor Computerviren in Echtzeit",
          "d": "Die Verbesserung der Hardwareleistung"
        },
        "answer": "a"
      },
      {
        "question": "Frage 10: Welche Aussage trifft auf ein VPN (Virtual Private Network) zu?",
        "options": {
          "a": "Es ermöglicht eine verschlüsselte Verbindung über ein öffentliches Netzwerk zu einem privaten Netzwerk",
          "b": "Es erhöht die Reichweite eines WLAN-Netzes",
          "c": "Es filtert unerwünschte E-Mails aus dem Posteingang",
          "d": "Es sucht ein Netzwerk auf Schwachstellen ab"
        },
        "answer": "a"
      }
    ]
  },
  {
    "topic": "Datenbanken",
    "questions": [
      {
        "question": "Frage 1: Wofür steht die Abkürzung SQL?",
        "options": {
          "a": "Structured Query Language",
          "b": "Simple Query Language",
          "c": "Standard Query Language",
          "d": "Sequential Query Language"
        },
        "answer": "a"
      },
      {
        "question": "Frage 2: Welche der folgenden ist keine relationale Datenbank?",
        "options": {
          "a": "MySQL",
          "b": "MongoDB",
          "c": "Oracle Database",
          "d": "PostgreSQL"
        },
        "answer": "b"
      },
      {
        "question": "Frage 3: Wie nennt man in einer relationalen Datenbank einen eindeutigen Bezeichner für jeden Datensatz?",
        "options": {
          "a": "Primärschlüssel",
          "b": "Fremdschlüssel",
          "c": "Index",
          "d": "Tupel"
        },
        "answer": "a"
      },
      {
        "question": "Frage 4: Was ist das Hauptziel der Normalisierung in einer relationalen Datenbank?",
        "options": {
          "a": "Reduzierung redundanter Daten und Vermeidung von Anomalien",
          "b": "Beschleunigung von Abfragen durch Indizes",
          "c": "Verschlüsselung der Daten für mehr Sicherheit",
          "d": "Verbesserung der Benutzeroberfläche"
        },
        "answer": "a"
      },
      {
        "question": "Frage 5: Welche SQL-Anweisung wird verwendet, um Daten aus einer Tabelle auszulesen?",
        "options": {
          "a": "SELECT",
          "b": "INSERT",
          "c": "DELETE",
          "d": "UPDATE"
        },
        "answer": "a"
      },
      {
        "question": "Frage 6: Wie nennt man die Beziehung, bei der ein Eintrag in einer Tabelle mehreren Einträgen in einer anderen Tabelle zugeordnet ist?",
        "options": {
          "a": "Eins-zu-Viele-Beziehung (1:N)",
          "b": "Eins-zu-Eins-Beziehung (1:1)",
          "c": "Viele-zu-Viele-Beziehung (N:M)",
          "d": "Viele-zu-Eins-Beziehung (N:1)"
        },
        "answer": "a"
      },
      {
        "question": "Frage 7: Welche Aussage trifft typischerweise auf NoSQL-Datenbanken zu?",
        "options": {
          "a": "Sie verwenden flexible, nicht relationale Datenmodelle (z. B. Dokumente oder Key-Value-Paare)",
          "b": "Sie nutzen ausschließlich SQL als Abfragesprache",
          "c": "Sie speichern Daten immer in Tabellen mit festem Schema",
          "d": "Sie ersetzen Backups vollständig durch Replikation"
        },
        "answer": "a"
      },
      {
        "question": "Frage 8: Welcher der folgenden Begriffe gehört NICHT zu den ACID-Eigenschaften einer Transaktion?",
        "options": {
          "a": "Atomarität",
          "b": "Konsistenz",
          "c": "Isolation",
          "d": "Verschl&uuml;sselung"
        },
        "answer": "d"
      },
      {
        "question": "Frage 9: Welche SQL-Klausel wird verwendet, um das Ergebnis einer Abfrage zu sortieren?",
        "options": {
          "a": "ORDER BY",
          "b": "GROUP BY",
          "c": "WHERE",
          "d": "HAVING"
        },
        "answer": "a"
      },
      {
        "question": "Frage 10: Wozu dient ein Index in einer Datenbank?",
        "options": {
          "a": "Zur Beschleunigung von Datenbank-Abfragen",
          "b": "Zum Verhindern von SQL-Injection-Angriffen",
          "c": "Zum Herstellen von Beziehungen zwischen Tabellen",
          "d": "Zum automatischen Sichern der Datenbank"
        },
        "answer": "a"
      }
    ]
  },
  {
    "topic": "Programmierung",
    "questions": [
      {
        "question": "Frage 1: Was beschreibt der Begriff 'Algorithmus' in der Programmierung?",
        "options": {
          "a": "Eine eindeutige Abfolge von Schritten zur L&ouml;sung eines Problems",
          "b": "Eine bestimmte Programmiersprache",
          "c": "Einen vordefinierten Datentyp",
          "d": "Einen Compilerfehler"
        },
        "answer": "a"
      },
      {
        "question": "Frage 2: Welcher Datentyp wird typischerweise verwendet, um Wahrheitswerte (True/False) zu speichern?",
        "options": {
          "a": "Boolescher Datentyp (Boolean)",
          "b": "Ganzzahl (Integer)",
          "c": "Zeichenkette (String)",
          "d": "Gleitkommazahl (Float)"
        },
        "answer": "a"
      },
      {
        "question": "Frage 3: Welcher der folgenden Begriffe geh&ouml;rt NICHT zu den grundlegenden Prinzipien der objektorientierten Programmierung?",
        "options": {
          "a": "Kapselung",
          "b": "Vererbung",
          "c": "Polymorphie",
          "d": "Rekursion"
        },
        "answer": "d"
      },
      {
        "question": "Frage 4: Was versteht man unter Debugging in der Softwareentwicklung?",
        "options": {
          "a": "Das Finden und Beheben von Fehlern in einem Programm",
          "b": "Das &Uuml;bersetzen von Quellcode in Maschinensprache",
          "c": "Das Optimieren eines Programms auf Laufzeitgeschwindigkeit",
          "d": "Das Schreiben von Benutzerhandb&uuml;chern f&uuml;r Software"
        },
        "answer": "a"
      },
      {
        "question": "Frage 5: Was ist eine Klasse in der objektorientierten Programmierung?",
        "options": {
          "a": "Ein Bauplan (Vorlage) zur Erstellung von Objekten",
          "b": "Eine laufende Instanz eines Programms",
          "c": "Ein spezieller Datentyp f&uuml;r Zeichen",
          "d": "Eine Art von Schleife"
        },
        "answer": "a"
      },
      {
        "question": "Frage 6: Wof&uuml;r wird ein Compiler in der Programmierung verwendet?",
        "options": {
          "a": "Zur &Uuml;bersetzung von Quellcode in ausf&uuml;hrbaren Maschinencode",
          "b": "Zum Auffinden von Laufzeitfehlern im Programm",
          "c": "Zum dynamischen Nachladen von Bibliotheken zur Laufzeit",
          "d": "Zur Versionierung des Quellcodes"
        },
        "answer": "a"
      },
      {
        "question": "Frage 7: Wie nennt man einen Fehler, der w&auml;hrend der Ausf&uuml;hrung eines Programms auftritt, z. B. durch Division durch Null?",
        "options": {
          "a": "Laufzeitfehler",
          "b": "Syntaxfehler",
          "c": "Logischer Fehler",
          "d": "Kompilierungsfehler"
        },
        "answer": "a"
      },
      {
        "question": "Frage 8: Was bedeutet 'Rekursion' in der Programmierung?",
        "options": {
          "a": "Eine Funktion ruft sich selbst auf",
          "b": "Ein Programm l&auml;uft unendlich ohne Abbruch",
          "c": "Eine Schleife innerhalb einer Schleife",
          "d": "Ein Algorithmus wird in Pseudocode beschrieben"
        },
        "answer": "a"
      },
      {
        "question": "Frage 9: Was beschreibt die Big-O-Notation bei Algorithmen?",
        "options": {
          "a": "Die Wachstumsrate des Ressourcenbedarfs (z. B. Laufzeit) in Abh&auml;ngigkeit von der Eingabegr&ouml;&szlig;e",
          "b": "Die Korrektheit eines Algorithmus f&uuml;r alle m&ouml;glichen Eingaben",
          "c": "Die Programmiersprache, in der der Algorithmus implementiert ist",
          "d": "Die genaue Ausf&uuml;hrungszeit eines Algorithmus in Sekunden"
        },
        "answer": "a"
      },
      {
        "question": "Frage 10: Welche Art von Schleife f&uuml;hrt den enthaltenen Codeblock mindestens einmal aus, bevor die Abbruchbedingung gepr&uuml;ft wird?",
        "options": {
          "a": "do-while-Schleife",
          "b": "while-Schleife",
          "c": "for-Schleife",
          "d": "Endlosschleife"
        },
        "answer": "a"
      }
    ]
  },
  {
    "topic": "HTML-Grundwissen",
    "questions": [
      {
        "question": "Frage 1: Wof&uuml;r steht die Abk&uuml;rzung HTML?",
        "options": {
          "a": "HyperText Markup Language",
          "b": "Hyperlinks and Text Markup Language",
          "c": "Home Tool Markup Language",
          "d": "High-level Machine Language"
        },
        "answer": "a"
      },
      {
        "question": "Frage 2: Welches der folgenden HTML5-Elemente hat keine spezifische semantische Bedeutung?",
        "options": {
          "a": "&lt;article&gt;",
          "b": "&lt;header&gt;",
          "c": "&lt;nav&gt;",
          "d": "&lt;span&gt;"
        },
        "answer": "d"
      },
      {
        "question": "Frage 3: Welcher HTML-Bereich enth&auml;lt den f&uuml;r den Benutzer sichtbaren Hauptinhalt der Seite?",
        "options": {
          "a": "&lt;body&gt;",
          "b": "&lt;head&gt;",
          "c": "&lt;footer&gt;",
          "d": "&lt;title&gt;"
        },
        "answer": "a"
      },
      {
        "question": "Frage 4: Welches HTML-Element wird verwendet, um einen Hyperlink zu erstellen?",
        "options": {
          "a": "&lt;a&gt;",
          "b": "&lt;link&gt;",
          "c": "&lt;img&gt;",
          "d": "&lt;nav&gt;"
        },
        "answer": "a"
      },
      {
        "question": "Frage 5: Welches HTML-Element wird verwendet, um eine geordnete Liste zu erstellen?",
        "options": {
          "a": "&lt;ol&gt;",
          "b": "&lt;ul&gt;",
          "c": "&lt;li&gt;",
          "d": "&lt;dl&gt;"
        },
        "answer": "a"
      },
      {
        "question": "Frage 6: Welches HTML-Element dient als Container f&uuml;r ein Formular zur Erfassung von Benutzereingaben?",
        "options": {
          "a": "&lt;form&gt;",
          "b": "&lt;input&gt;",
          "c": "&lt;button&gt;",
          "d": "&lt;table&gt;"
        },
        "answer": "a"
      },
      {
        "question": "Frage 7: Welches Attribut eines &lt;input&gt;-Elements macht ein Feld zur Pflichtangabe?",
        "options": {
          "a": "required",
          "b": "placeholder",
          "c": "type",
          "d": "id"
        },
        "answer": "a"
      },
      {
        "question": "Frage 8: Welches Formularelement erm&ouml;glicht es dem Nutzer, genau eine Option aus mehreren auszuw&auml;hlen?",
        "options": {
          "a": "Radio-Button (Typ 'radio')",
          "b": "Checkbox (Typ 'checkbox')",
          "c": "Textfeld (Typ 'text')",
          "d": "Mehrfachauswahl-Liste"
        },
        "answer": "a"
      },
      {
        "question": "Frage 9: Mit welchem HTML-Tag kann man ein externes CSS-Stylesheet einbinden?",
        "options": {
          "a": "&lt;link&gt;",
          "b": "&lt;style&gt;",
          "c": "&lt;css&gt;",
          "d": "&lt;script&gt;"
        },
        "answer": "a"
      },
      {
        "question": "Frage 10: Welches HTML-Attribut wird verwendet, um einem Element direkt CSS-Stilregeln zuzuweisen?",
        "options": {
          "a": "style",
          "b": "class",
          "c": "id",
          "d": "name"
        },
        "answer": "a"
      }
    ]
  }
];











    
    function userReadableOption(options, key) {
      return key ? `(${key}) ${options[key]}` : 'Keine Antwort gewählt';
    }
    
    function loadResults() {
      const results = JSON.parse(localStorage.getItem("resultsFiles") || "[]");
      const resultsBody = document.getElementById("resultsTable");
      resultsBody.innerHTML = "";
    
      results.forEach((result, idx) => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${result.date}</td>
          <td>${result.score}/${result.answers.length}</td>
          <td><button onclick="showDetails(${idx})">Details</button></td>`;
        resultsBody.appendChild(row);
      });
    }
    
    function showDetails(idx) {
      const result = JSON.parse(localStorage.getItem("resultsFiles"))[idx];
      let html = `<h2>Antwortdetails (${result.date})</h2>`;
      let answerIndex = 0; // Hier korrekte Deklaration!
    
      quizData.forEach(section => {
        html += `<h3>${section.topic}</h3>`;
        section.questions.forEach(q => {
          const userAns = result.answers[answerIndex++]; // Korrekt answerIndex verwenden
          html += `
            <p><b>${section.topic + ' - ' + q.question}</b><br>
            <table>
              <tr>
                <td style="width:200px;"><strong>Deine Antwort:</strong></td>
                <td style="${ userAns !== q.answer ? 'color:red;' : 'color:green;' }">
                  ${userReadableOption(q.options, userAns)}
                </td>
              </tr>
              <tr>
                <td><strong>Richtige Antwort:</strong></td>
                <td>${userReadableOption(q.options, q.answer)}</td>
              </tr>
            </table>
            <br>
            <hr>
          `;
        });
      });
    
      document.getElementById('resultDetails').innerHTML = html;
    }
    
    loadResults();
    </script>
    
</body>
</html>
