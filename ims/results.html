<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Gespeicherte Testergebnisse</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    table { border-collapse: collapse; width: 100%; }
    th, td { padding: 10px; border: 1px solid #ddd; }
    th { background: #f4f4f4; }
    button { cursor: pointer; }
  </style>
</head>
<body>
  <h1>Gespeicherte Testergebnisse</h1>
  <table>
    <thead>
      <tr>
        <th>Datum</th>
        <th>Punktzahl</th>
        <th>Details</th>
      </tr>
    </thead>
    <tbody id="resultsTable"></tbody>
  </table>

  <div id="resultDetails"></div>

  <script>
    const quizData = [
  {
    "topic": "Systemtechnik",
    "questions": [
      {
        "question": "Was versteht man unter Computerhardware?",
        "options": {
          "a": "Softwareprogramme, die Computerfunktionen steuern",
          "b": "Physische Komponenten eines Computers",
          "c": "Cloud-Dienste zur Datenspeicherung",
          "d": "Betriebssysteme und ihre Updates"
        },
        "answer": "b"
      },
      {
        "question": "Welche Kombination stellt typische grundlegende Hardwarekomponenten eines Computers dar?",
        "options": {
          "a": "Monitor, Tastatur, Maus",
          "b": "Festplatte, Drucker, Scanner",
          "c": "CPU, RAM, Motherboard",
          "d": "Betriebssystem, Office-Anwendungen, Browser"
        },
        "answer": "c"
      },
      {
        "question": "Was ist ein Bootvorgang?",
        "options": {
          "a": "Ein Fehler in der Programmierung",
          "b": "Die Installation von Software-Updates",
          "c": "Der Startvorgang eines Computers, bei dem Hardware und Software initialisiert werden",
          "d": "Der Vorgang des Herunterfahrens eines Computers"
        },
        "answer": "c"
      },
      {
        "question": "Wie interagiert das Betriebssystem mit der Hardware?",
        "options": {
          "a": "Es deaktiviert fehlerhafte Hardware",
          "b": "Es erstellt neue Hardwarekomponenten",
          "c": "Es installiert neue Hardware automatisch",
          "d": "Es verwaltet und steuert die Hardwarekomponenten"
        },
        "answer": "d"
      },
      {
        "question": "Welcher Unterschied besteht zwischen Single-Core- und Multi-Core-Prozessoren?",
        "options": {
          "a": "Single-Core-Prozessoren sind generell schneller als Multi-Core-Prozessoren",
          "b": "Multi-Core-Prozessoren haben weniger Kerne als Single-Core-Prozessoren",
          "c": "Es gibt keinen Unterschied, beide Arten funktionieren identisch",
          "d": "Single-Core-Prozessoren haben nur einen Kern, während Multi-Core-Prozessoren mehrere Kerne besitzen"
        },
        "answer": "d"
      },
      {
        "question": "Was versteht man unter einem Motherboard?",
        "options": {
          "a": "Eine Art externer Festplatte",
          "b": "Das zentrale Element, das alle Komponenten miteinander verbindet",
          "c": "Ein Peripheriegerät",
          "d": "Eine Software zur Steuerung der Hardware"
        },
        "answer": "b"
      },
      {
        "question": "Was ist der Zweck von RAM?",
        "options": {
          "a": "Dauerhafte Speicherung von Daten",
          "b": "Steuerung der Druckerfunktionen",
          "c": "Erhöhen der Grafikleistung",
          "d": "Temporäre Speicherung von Daten für schnellen Zugriff"
        },
        "answer": "d"
      },
      {
        "question": "Wie funktioniert die Stromversorgung in einem Computer?",
        "options": {
          "a": "Durch Batterien, die direkt an die Hardware angeschlossen sind",
          "b": "Über das Betriebssystem, das den Strom regelt",
          "c": "Über ein Netzteil, das die Netzspannung in verschiedene Spannungen umwandelt",
          "d": "Durch den Prozessor, der den Strom verteilt"
        },
        "answer": "c"
      },
      {
        "question": "Was sind Peripheriegeräte?",
        "options": {
          "a": "Geräte, die außerhalb des Hauptcomputers angeschlossen werden, wie Drucker, Maus oder Tastatur",
          "b": "Komponenten, die direkt in das Motherboard eingebaut sind",
          "c": "Spezielle Softwareprogramme",
          "d": "Externe Festplatten, die nur Daten speichern"
        },
        "answer": "a"
      },
      {
        "question": "Welche Rolle spielt das BIOS im Computer?",
        "options": {
          "a": "Es speichert alle Nutzerdaten dauerhaft",
          "b": "Es dient als Backup-Lösung",
          "c": "Es ermöglicht den Internetzugang",
          "d": "Es initialisiert und testet die Hardware beim Start und lädt das Betriebssystem"
        },
        "answer": "d"
      }
    ]
  },
  {
    "topic": "HTML",
    "questions": [
      {
        "question": "Was ist HTML und wofür wird es verwendet?",
        "options": {
          "a": "Programmiersprache zur Erstellung von Webseiten",
          "b": "Betriebssystem für Webserver",
          "c": "Datenbankmanagementsystem",
          "d": "Markup zur Strukturierung und Darstellung von Inhalten"
        },
        "answer": "d"
      },
      {
        "question": "Welche grundlegenden Tags sollten in jeder HTML-Datei vorhanden sein?",
        "options": {
          "a": "&lt;div&gt;, &lt;span&gt;, &lt;p&gt;",
          "b": "&lt;html&gt;, &lt;head&gt;, &lt;body&gt;",
          "c": "&lt;table&gt;, &lt;tr&gt;, &lt;td&gt;",
          "d": "&lt;header&gt;, &lt;nav&gt;, &lt;footer&gt;"
        },
        "answer": "b"
      },
      {
        "question": "Wie erstellt man in HTML eine geordnete und eine ungeordnete Liste?",
        "options": {
          "a": "Mit &lt;list&gt; und &lt;item&gt;",
          "b": "Mit &lt;table&gt; und &lt;tr&gt;",
          "c": "Mit &lt;ol&gt; für geordnete und &lt;ul&gt; für ungeordnete Listen",
          "d": "Mit &lt;li&gt; und &lt;ul&gt;"
        },
        "answer": "c"
      },
      {
        "question": "Wie fügt man in eine HTML-Seite Hyperlinks und Bilder ein?",
        "options": {
          "a": "Mit dem &lt;img&gt;-Tag für Links und dem &lt;a&gt;-Tag für Bilder",
          "b": "Mit dem &lt;a&gt;-Tag für Links und dem &lt;img&gt;-Tag für Bilder",
          "c": "Mit dem &lt;link&gt;-Tag für Links und &lt;pic&gt; für Bilder",
          "d": "Mit dem &lt;hyperlink&gt;-Tag für Links und &lt;picture&gt; für Bilder"
        },
        "answer": "b"
      },
      {
        "question": "Was ist der wesentliche Unterschied zwischen dem &lt;div&gt;-Element und dem &lt;span&gt;-Element?",
        "options": {
          "a": "&lt;div&gt; wird ausschließlich für Bilder verwendet, &lt;span&gt; nur für Text",
          "b": "Beide Elemente erfüllen exakt die gleiche Funktion",
          "c": "&lt;div&gt; ist ein Block-Level-Element, während &lt;span&gt; ein Inline-Element ist",
          "d": "&lt;div&gt; dient zur Erstellung von Tabellen, &lt;span&gt; zur Erstellung von Listen"
        },
        "answer": "c"
      },
      {
        "question": "Was ist der Zweck des &lt;head&gt;-Elements in einer HTML-Datei?",
        "options": {
          "a": "Es enthält Metadaten, Skripte und Links zu Stylesheets, die nicht direkt angezeigt werden",
          "b": "Es enthält den sichtbaren Inhalt der Webseite",
          "c": "Es stellt den Footer der Webseite dar",
          "d": "Es wird zur Einbindung von Bildern verwendet"
        },
        "answer": "a"
      },
      {
        "question": "Wie bindet man externe CSS-Dateien in HTML ein?",
        "options": {
          "a": "Mit dem &lt;script&gt;-Tag",
          "b": "Mit dem &lt;css&gt;-Tag",
          "c": "Mit dem &lt;style&gt;-Tag",
          "d": "Mit dem &lt;link&gt;-Tag im &lt;head&gt;-Bereich"
        },
        "answer": "d"
      },
      {
        "question": "Welche Bedeutung haben die Attribute id und class in HTML?",
        "options": {
          "a": "Sie dienen ausschließlich der Datenbankanbindung",
          "b": "Sie sind veraltet und sollten nicht mehr verwendet werden",
          "c": "Sie bestimmen die Schriftgröße der Texte",
          "d": "Sie werden verwendet, um spezifische Elemente zu identifizieren und zu stylen"
        },
        "answer": "d"
      },
      {
        "question": "Was ist ein HTML-Formular und wozu dient es?",
        "options": {
          "a": "Es ermöglicht die Eingabe und Übermittlung von Benutzerdaten",
          "b": "Es dient zur strukturellen Darstellung von Webseiten",
          "c": "Es wird zur Erstellung von Tabellen verwendet",
          "d": "Es dient ausschließlich der Navigation"
        },
        "answer": "a"
      },
      {
        "question": "Wie erstellt man eine Tabelle in HTML?",
        "options": {
          "a": "Mit den Tags &lt;div&gt; und &lt;span&gt;",
          "b": "Mit den Tags &lt;table&gt;, &lt;tr&gt;, &lt;th&gt; und &lt;td&gt;",
          "c": "Mit den Tags &lt;list&gt; und &lt;item&gt;",
          "d": "Mit den Tags &lt;grid&gt; und &lt;row&gt;"
        },
        "answer": "b"
      }
    ]
  },
  {
    "topic": "Programmierung",
    "questions": [
      {
        "question": "Was versteht man unter einer Variable?",
        "options": {
          "a": "Fehler im Code",
          "b": "Berechnungsfunktion",
          "c": "Speicherort für Daten",
          "d": "Schleife"
        },
        "answer": "c"
      },
      {
        "question": "Welche Funktion haben Schleifen in der Programmierung?",
        "options": {
          "a": "Sie deklarieren Variablen",
          "b": "Sie ermöglichen die wiederholte Ausführung von Codeabschnitten",
          "c": "Sie speichern Daten dauerhaft",
          "d": "Sie prüfen ausschließlich Bedingungen"
        },
        "answer": "b"
      },
      {
        "question": "Wie funktioniert eine if-else-Bedingung?",
        "options": {
          "a": "Wiederholt Code, bis eine Bedingung erfüllt ist",
          "b": "Definiert Funktionen innerhalb eines Programms",
          "c": "Speichert Werte in Variablen",
          "d": "Führt unterschiedliche Codeabschnitte aus, abhängig davon, ob eine Bedingung erfüllt ist oder nicht"
        },
        "answer": "d"
      },
      {
        "question": "Was sind Funktionen und warum sind sie wichtig?",
        "options": {
          "a": "Sie speichern Daten dauerhaft",
          "b": "Sie verbinden die Hardwarekomponenten miteinander",
          "c": "Sie strukturieren den Code, ermöglichen Wiederverwendung und vereinfachen die Fehlersuche",
          "d": "Sie löschen unnötige Daten automatisch"
        },
        "answer": "c"
      },
      {
        "question": "Was versteht man unter Rekursion in der Programmierung?",
        "options": {
          "a": "Eine Schleife, die unendlich läuft",
          "b": "Eine Funktion ruft sich selbst auf, um ein Problem schrittweise zu lösen",
          "c": "Ein spezieller Datentyp zur Speicherung von Text",
          "d": "Eine Methode, um Daten in einer Datenbank zu speichern"
        },
        "answer": "b"
      },
      {
        "question": "Was ist ein Array (oder Liste) in der Programmierung?",
        "options": {
          "a": "Ein Algorithmus zur Sortierung",
          "b": "Eine Methode zur Wiederholung von Code",
          "c": "Eine Datenstruktur, die eine Sammlung von Elementen unter einem einzigen Namen speichert",
          "d": "Ein spezieller Datentyp für Zeichenketten"
        },
        "answer": "c"
      },
      {
        "question": "Erkläre den Unterschied zwischen einer while-Schleife und einer do-while-Schleife.",
        "options": {
          "a": "In einer while-Schleife wird der Codeblock mindestens einmal ausgeführt, in einer do-while-Schleife nicht",
          "b": "Es gibt keinen Unterschied",
          "c": "In einer while-Schleife können keine Bedingungen verwendet werden",
          "d": "Eine do-while-Schleife führt den Codeblock mindestens einmal aus, bevor die Bedingung geprüft wird, während in einer while-Schleife zuerst die Bedingung geprüft wird"
        },
        "answer": "d"
      },
      {
        "question": "Was sind Kommentare und wozu dienen sie im Code?",
        "options": {
          "a": "Sie werden ausgeführt, um den Code zu optimieren",
          "b": "Sie verändern die Funktionalität des Codes",
          "c": "Sie werden für die Formatierung der Ausgabe genutzt",
          "d": "Sie dienen als Notizen, die für Menschen lesbar sind, aber vom Computer ignoriert werden"
        },
        "answer": "d"
      },
      {
        "question": "Was ist der Unterschied zwischen einem Compiler und einem Interpreter?",
        "options": {
          "a": "Ein Interpreter übersetzt den gesamten Code vor der Ausführung, während ein Compiler Zeile für Zeile arbeitet",
          "b": "Ein Compiler übersetzt den gesamten Code vor der Ausführung, während ein Interpreter den Code Zeile für Zeile ausführt",
          "c": "Es gibt keinen Unterschied",
          "d": "Compiler werden nur für Webanwendungen verwendet"
        },
        "answer": "b"
      },
      {
        "question": "Was versteht man unter Objektorientierung und was sind Klassen?",
        "options": {
          "a": "Objektorientierung ist ein Programmierparadigma, bei dem Programme in Objekte organisiert werden; Klassen sind Vorlagen, aus denen Objekte erstellt werden",
          "b": "Objektorientierung bezieht sich auf das Layout einer Webseite; Klassen sind CSS-Styles",
          "c": "Objektorientierung ist eine Methode, um Hardware anzusteuern; Klassen sind Hardwarekomponenten",
          "d": "Objektorientierung ist ein Konzept in Datenbanken; Klassen definieren Tabellenstrukturen"
        },
        "answer": "a"
      }
    ]
  },
  {
    "topic": "Datenbanken",
    "questions": [
      {
        "question": "Was versteht man unter einer Datenbank?",
        "options": {
          "a": "Programmiersprache zur Datenverarbeitung",
          "b": "Betriebssystem für Server",
          "c": "Sammlung von Daten",
          "d": "Software zur Bildbearbeitung"
        },
        "answer": "c"
      },
      {
        "question": "Welches der folgenden Beispiele ist ein Datenbankmanagementsystem (DBMS) und was ist dessen Hauptaufgabe?",
        "options": {
          "a": "Windows – Es verwaltet Dateien und Ordner",
          "b": "MySQL – Es verwaltet, speichert und organisiert Daten in Datenbanken",
          "c": "Photoshop – Es bearbeitet Bilder",
          "d": "Excel – Es erstellt Tabellen zur Kalkulation"
        },
        "answer": "b"
      },
      {
        "question": "Was ist SQL?",
        "options": {
          "a": "Ein Betriebssystem für Server",
          "b": "Ein Texteditor für Programmierer",
          "c": "Ein Grafikprogramm zur Datenvisualisierung",
          "d": "Eine Sprache zur Abfrage und Bearbeitung von Daten in Datenbanken"
        },
        "answer": "d"
      },
      {
        "question": "Wie unterscheiden sich relationale von nicht-relationalen Datenbanken?",
        "options": {
          "a": "Nicht-relational sind immer schneller als relationale",
          "b": "Relationale speichern Daten in Tabellen, während nicht-relational flexible Datenstrukturen nutzen",
          "c": "Beide speichern Daten identisch, nur die Bezeichnungen sind unterschiedlich",
          "d": "Relationale speichern ausschließlich numerische Daten, nicht-relational nur Text"
        },
        "answer": "b"
      },
      {
        "question": "Was versteht man unter Datenbanknormalisierung?",
        "options": {
          "a": "Das Verschlüsseln von Daten",
          "b": "Eine Methode, um Daten regelmäßig zu sichern",
          "c": "Ein spezielles Format zur Speicherung von Multimedia-Inhalten",
          "d": "Ein Verfahren zur Organisation von Daten, um Redundanzen zu vermeiden und Datenintegrität zu sichern"
        },
        "answer": "d"
      },
      {
        "question": "Was versteht man unter einem Primärschlüssel in relationalen Datenbanken?",
        "options": {
          "a": "Ein Index, der Abfragen beschleunigt",
          "b": "Ein Attribut, das eindeutig jeden Datensatz identifiziert",
          "c": "Eine Methode zur Verschlüsselung von Daten",
          "d": "Ein Feld, das nur numerische Werte speichert"
        },
        "answer": "b"
      },
      {
        "question": "Wie kann man in SQL Daten in einer Tabelle selektieren?",
        "options": {
          "a": "Mit dem Befehl INSERT",
          "b": "Mit dem Befehl DELETE",
          "c": "Mit dem Befehl SELECT",
          "d": "Mit dem Befehl UPDATE"
        },
        "answer": "c"
      },
      {
        "question": "Was ist ein JOIN in SQL?",
        "options": {
          "a": "Ein Befehl, um zwei oder mehr Tabellen anhand gemeinsamer Attribute zu verknüpfen",
          "b": "Ein Befehl, um Daten in einer Tabelle zu löschen",
          "c": "Ein Befehl, um Daten zu aktualisieren",
          "d": "Ein Befehl zur Erstellung von Tabellen"
        },
        "answer": "a"
      },
      {
        "question": "Was versteht man unter Transaktionen in Datenbanksystemen?",
        "options": {
          "a": "Einzelne SQL-Befehle ohne Zusammenhang",
          "b": "Eine Methode, um Daten permanent zu speichern",
          "c": "Ein Protokoll zur Überwachung von Datenbankzugriffen",
          "d": "Eine Gruppe von Operationen, die als eine einzige Einheit ausgeführt werden"
        },
        "answer": "d"
      },
      {
        "question": "Wie kann man in SQL Daten aktualisieren?",
        "options": {
          "a": "Mit dem Befehl DELETE",
          "b": "Mit dem Befehl UPDATE",
          "c": "Mit dem Befehl INSERT",
          "d": "Mit dem Befehl SELECT"
        },
        "answer": "b"
      }
    ]
  }
];


    
    function userReadableOption(options, key) {
      return key ? `(${key}) ${options[key]}` : 'Keine Antwort gewählt';
    }
    
    function loadResults() {
      const results = JSON.parse(localStorage.getItem("resultsFiles") || "[]");
      const resultsBody = document.getElementById("resultsTable");
      resultsBody.innerHTML = "";
    
      results.forEach((result, idx) => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${result.date}</td>
          <td>${result.score}/${result.answers.length}</td>
          <td><button onclick="showDetails(${idx})">Details</button></td>`;
        resultsBody.appendChild(row);
      });
    }
    
    function showDetails(idx) {
      const result = JSON.parse(localStorage.getItem("resultsFiles"))[idx];
      let html = `<h2>Antwortdetails (${result.date})</h2>`;
      let answerIndex = 0; // Hier korrekte Deklaration!
    
      quizData.forEach(section => {
        html += `<h3>${section.topic}</h3>`;
        section.questions.forEach(q => {
          const userAns = result.answers[answerIndex++]; // Korrekt answerIndex verwenden
          html += `
            <p><strong>Frage:</strong> ${q.question}<br>
            <strong>Deine Antwort:</strong> ${userReadableOption(q.options, userAns)}<br>
            <strong>Richtige Antwort:</strong> ${userReadableOption(q.options, q.answer)}</p><hr>`;
        });
      });
    
      document.getElementById('resultDetails').innerHTML = html;
    }
    
    loadResults();
    </script>
    
</body>
</html>
