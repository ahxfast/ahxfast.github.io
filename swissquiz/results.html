<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Gespeicherte Testergebnisse</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    table { border-collapse: collapse; width: 100%; }
    th, td { padding: 10px; border: 1px solid #ddd; }
    th { background: #f4f4f4; }
    button { cursor: pointer; }
  </style>
</head>
<body>
  <h1>Gespeicherte Testergebnisse</h1>
  <table>
    <thead>
      <tr>
        <th>Datum</th>
        <th>Punktzahl</th>
        <th>Details</th>
      </tr>
    </thead>
    <tbody id="resultsTable"></tbody>
  </table>

  <div id="resultDetails"></div>

  <script>
   const quizData = [
   {
  "topic": "Schweizer Geographie Test",
  "questions": [
    {"question": "Welcher See liegt teilweise in Italien?", "options": {"a": "Bodensee", "b": "Genfersee", "c": "Neuenburgersee", "d": "Lago Maggiore"}, "answer": "d"},
    {"question": "Welcher See ist flächenmäßig der viertgrößte in der Schweiz?", "options": {"a": "Zürichsee", "b": "Genfersee", "c": "Vierwaldstättersee", "d": "Neuenburgersee"}, "answer": "c"},
    {"question": "Welcher See liegt zwischen den Kantonen Neuenburg und Bern?", "options": {"a": "Murtensee", "b": "Bielersee", "c": "Thunersee", "d": "Brienzersee"}, "answer": "b"},
    {"question": "Welcher See befindet sich vollständig im Kanton Zürich?", "options": {"a": "Zürichsee", "b": "Bodensee", "c": "Vierwaldstättersee", "d": "Neuenburgersee"}, "answer": "a"},
    {"question": "Welcher See grenzt an Deutschland, Österreich und die Schweiz?", "options": {"a": "Thunersee", "b": "Murtensee", "c": "Genfersee", "d": "Bodensee"}, "answer": "d"},
    {"question": "Welcher Fluss mündet in die Nordsee?", "options": {"a": "Rhone", "b": "Aare", "c": "Rhein", "d": "Ticino"}, "answer": "c"},
    {"question": "Welcher Fluss fließt ins Mittelmeer?", "options": {"a": "Reuss", "b": "Rhone", "c": "Inn", "d": "Limmat"}, "answer": "b"},
    {"question": "Welcher Fluss verlässt den Zürichsee?", "options": {"a": "Limmat", "b": "Rhein", "c": "Ticino", "d": "Aare"}, "answer": "a"},
    {"question": "Welcher Fluss durchquert den Kanton Tessin?", "options": {"a": "Reuss", "b": "Aare", "c": "Rhein", "d": "Ticino"}, "answer": "d"},
    {"question": "Welcher Fluss ist der längste, der vollständig in der Schweiz verläuft?", "options": {"a": "Rhein", "b": "Reuss", "c": "Aare", "d": "Rhone"}, "answer": "c"},
    {"question": "Welcher Berg ist der höchste der Schweiz?", "options": {"a": "Matterhorn", "b": "Dufourspitze", "c": "Jungfrau", "d": "Eiger"}, "answer": "b"},
    {"question": "Welcher Berg gilt als Wahrzeichen der Schweiz aufgrund seiner Pyramidenform?", "options": {"a": "Matterhorn", "b": "Dufourspitze", "c": "Jungfrau", "d": "Dom"}, "answer": "a"},
    {"question": "Welches Gebirgsmassiv umfasst Eiger und Mönch?", "options": {"a": "Matterhorn", "b": "Dom", "c": "Dufourspitze", "d": "Jungfrau"}, "answer": "d"},
    {"question": "Welcher Berg ist nach der Dufourspitze der zweithöchste der Schweiz?", "options": {"a": "Jungfrau", "b": "Matterhorn", "c": "Dom", "d": "Eiger"}, "answer": "c"},
    {"question": "Welcher dieser Berge liegt NICHT im Kanton Wallis?", "options": {"a": "Matterhorn", "b": "Jungfrau", "c": "Dom", "d": "Dufourspitze"}, "answer": "b"},
    {"question": "Welche Grosslandschaft macht etwa 60 % der Schweizer Fläche aus?", "options": {"a": "Alpen", "b": "Mittelland", "c": "Jura", "d": "Voralpen"}, "answer": "a"},
    {"question": "In welcher Grosslandschaft lebt der Großteil der Schweizer Bevölkerung?", "options": {"a": "Alpen", "b": "Jura", "c": "Voralpen", "d": "Mittelland"}, "answer": "d"},
    {"question": "Welche Landschaft liegt zwischen Alpen und Jura?", "options": {"a": "Jura", "b": "Alpen", "c": "Mittelland", "d": "Voralpen"}, "answer": "c"},
    {"question": "Welche Grosslandschaft ist geprägt von niedrigen, gefalteten Bergen?", "options": {"a": "Mittelland", "b": "Jura", "c": "Alpen", "d": "Voralpen"}, "answer": "b"},
    {"question": "In welcher Grosslandschaft befindet sich das Engadin mit Steinbock-Population?", "options": {"a": "Mittelland", "b": "Jura", "c": "Voralpen", "d": "Alpen"}, "answer": "d"},
    {"question": "Welcher Kanton führt einen Bären auf seinem Wappen?", "options": {"a": "Zürich", "b": "Geneva", "c": "Bern", "d": "Vaud"}, "answer": "c"},
    {"question": "Welcher Halbkanton hat nur einen Sitz im Ständerat und ist der kleinste nach Einwohnerzahl?", "options": {"a": "Uri", "b": "Appenzell Innerrhoden", "c": "Nidwalden", "d": "Basel‑Stadt"}, "answer": "b"},
    {"question": "Welcher Kanton hat als einziger einen Schlüssel im Wappen?", "options": {"a": "Zürich", "b": "Geneva", "c": "Vaud", "d": "Fribourg"}, "answer": "b"},
    {"question": "Welcher Kanton ist flächenmäßig der größte der Schweiz?", "options": {"a": "Graubünden", "b": "Valais", "c": "Bern", "d": "Uri"}, "answer": "a"},
    {"question": "Welcher Kanton sendet zwei Vertreter in den Ständerat?", "options": {"a": "Schwyz", "b": "Bern", "c": "Zürich", "d": "Geneva"}, "answer": "b"},
    {"question": "Wie heißt die Hauptstadt des Kantons Ticino?", "options": {"a": "Lugano", "b": "Locarno", "c": "Mendrisio", "d": "Bellinzona"}, "answer": "d"},
    {"question": "Welches ist die Hauptstadt des Kantons Vaud?", "options": {"a": "Geneva", "b": "Neuchâtel", "c": "Lausanne", "d": "Fribourg"}, "answer": "c"},
    {"question": "Welcher Ort ist Hauptstadt des Kantons Graubünden?", "options": {"a": "Davos", "b": "Chur", "c": "St. Moritz", "d": "Samedan"}, "answer": "b"},
    {"question": "Welche Stadt ist Hauptstadt des Kantons Zürich?", "options": {"a": "Zürich", "b": "Winterthur", "c": "Baden", "d": "Schaffhausen"}, "answer": "a"},
    {"question": "Welche Stadt ist Hauptstadt des Kantons Schwyz?", "options": {"a": "Brunnen", "b": "Küssnacht", "c": "Einsiedeln", "d": "Schwyz"}, "answer": "d"},
    {"question": "Wie heißt die Hauptstadt der Schweiz?", "options": {"a": "Zürich", "b": "Geneva", "c": "Bern", "d": "Lausanne"}, "answer": "c"},
    {"question": "Welches Gebäude in Bern beherbergt das Schweizer Parlament?", "options": {"a": "Rathaus", "b": "Bundeshaus", "c": "Kathedrale", "d": "Universität"}, "answer": "b"},
    {"question": "In welchem Kanton steht das Bundeshaus?", "options": {"a": "Bern", "b": "Zürich", "c": "Geneva", "d": "Basel‑Stadt"}, "answer": "a"},
    {"question": "Welcher offizielle Titel wird für die Schweizer Hauptstadt verwendet?", "options": {"a": "Hauptstadt", "b": "Bundesstadt", "c": "Regierungssitz", "d": "Nationalstadt"}, "answer": "b"},
    {"question": "Welche Stadt ist die bevölkerungsreichste der Schweiz?", "options": {"a": "Zürich", "b": "Geneva", "c": "Basel", "d": "Bern"}, "answer": "a"},
    {"question": "Welche Stadt ist die zweitgrößte nach Einwohnerzahl?", "options": {"a": "Basel", "b": "Bern", "c": "Zürich", "d": "Geneva"}, "answer": "d"},
    {"question": "Welche Stadt belegt den dritten Platz in der Bevölkerungsrangliste?", "options": {"a": "Bern", "b": "Basel", "c": "Geneva", "d": "Zurich"}, "answer": "b"},
    {"question": "Welcher Kanton hat rund 16 000 Einwohner und gilt als am dünnsten besiedelt?", "options": {"a": "Appenzell Innerrhoden", "b": "Uri", "c": "Nidwalden", "d": "Glarus"}, "answer": "a"},
    {"question": "Wie viele offizielle Landessprachen hat die Schweiz?", "options": {"a": "3", "b": "4", "c": "5", "d": "6"}, "answer": "b"},
    {"question": "Welche Sprache ist Amtssprache im Kanton Ticino?", "options": {"a": "French", "b": "German", "c": "Romansh", "d": "Italian"}, "answer": "d"},
    {"question": "In welchem Kanton ist Rätoromanisch offizielle Sprache?", "options": {"a": "Bern", "b": "Valais", "c": "Graubünden", "d": "Uri"}, "answer": "c"},
    {"question": "Welche Sprache wird im Kanton Vaud hauptsächlich gesprochen?", "options": {"a": "French", "b": "German", "c": "Italian", "d": "Romansh"}, "answer": "a"},
    {"question": "Welcher Kanton ist offiziell zweisprachig (Deutsch und Französisch)?", "options": {"a": "Zürich", "b": "Bern", "c": "Geneva", "d": "Ticino"}, "answer": "b"},
    {"question": "Welches Land grenzt nördlich an die Schweiz?", "options": {"a": "France", "b": "Austria", "c": "Germany", "d": "Italy"}, "answer": "c"},
    {"question": "Welches Land grenzt westlich an die Schweiz?", "options": {"a": "Italy", "b": "France", "c": "Germany", "d": "Austria"}, "answer": "b"},
    {"question": "Welches Land liegt südlich der Schweiz?", "options": {"a": "France", "b": "Austria", "c": "Liechtenstein", "d": "Italy"}, "answer": "d"},
    {"question": "Welches Land grenzt östlich an die Schweiz?", "options": {"a": "Austria", "b": "Italy", "c": "Germany", "d": "France"}, "answer": "a"},
    {"question": "Welcher Kleinstaat grenzt an die Schweiz im Osten?", "options": {"a": "Austria", "b": "Liechtenstein", "c": "Italy", "d": "Germany"}, "answer": "b"}
  ]
}


];









    
    function userReadableOption(options, key) {
      return key ? `(${key}) ${options[key]}` : 'Keine Antwort gewählt';
    }
    
    function loadResults() {
      const results = JSON.parse(localStorage.getItem("resultsFiles") || "[]");
      const resultsBody = document.getElementById("resultsTable");
      resultsBody.innerHTML = "";
    
      results.forEach((result, idx) => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${result.date}</td>
          <td>${result.score}/${result.answers.length}</td>
          <td><button onclick="showDetails(${idx})">Details</button></td>`;
        resultsBody.appendChild(row);
      });
    }
    
    function showDetails(idx) {
      const result = JSON.parse(localStorage.getItem("resultsFiles"))[idx];
      let html = `<h2>Antwortdetails (${result.date})</h2>`;
      let answerIndex = 0; // Hier korrekte Deklaration!
    
      quizData.forEach(section => {
        html += `<h3>${section.topic}</h3>`;
        section.questions.forEach(q => {
          const userAns = result.answers[answerIndex++]; // Korrekt answerIndex verwenden
          html += `
            <p><b>${section.topic + ' - ' + q.question}</b><br>
            <table>
              <tr>
                <td style="width:200px;"><strong>Deine Antwort:</strong></td>
                <td style="${ userAns !== q.answer ? 'color:red;' : 'color:green;' }">
                  ${userReadableOption(q.options, userAns)}
                </td>
              </tr>
              <tr>
                <td><strong>Richtige Antwort:</strong></td>
                <td>${userReadableOption(q.options, q.answer)}</td>
              </tr>
            </table>
            <br>
            <hr>
          `;
        });
      });
    
      document.getElementById('resultDetails').innerHTML = html;
    }
    
    loadResults();
    </script>
    
</body>
</html>
